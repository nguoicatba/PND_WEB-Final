@using PND_WEB.ViewModels
@model QuotationsEditDeleteDetailController

@{
    Layout = null; // PDF nên không dùng layout
    var quotation = Model.Quotation;
    var charges = Model.QuotationsCharges;
    float totalAmount = 0;
}

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <style>
        body {
            font-family: Arial;
            font-size: 16px;
            margin: 30px;
        }

        .center {
            width: 100%;
            clear: both;
            margin-top: 20px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        th, td {
            border: 1px solid #000;
            padding: 6px;
            text-align: left;
        }

        .text-right {
            text-align: right;
        }

        .bold {
            font-weight: bold;
        }
    </style>
</head>
<body>

    <table style="width: 100%; margin-bottom: 20px; border: 1px solid #FFF">
        <tr>
            <td style="width: 50%; vertical-align: top; border: 1px solid #FFF">
                <img src="https://pnd-logistics.com/images/logo.png" alt="PND Logo" class="logo" />
            </td>
            <td style="width: 50%; vertical-align: top; border: 1px solid #FFF">
                <p><strong>PND LOGISTICS TRANSPORT CO., LTD - HAI PHONG HEAD OFFICE</strong></p>
                <p>ADD: No 24A, Area 15, Dang Hai Ward, Hai An District, Hai Phong City, Vietnam</p>
                <p>TEL: __________________ EMAIL: __________________</p>
                <p>WEBSITE: <span style="color: green;">http://pnd-logistics.com</span></p>
            </td>
        </tr>
    </table>

    <div class="center" style="text-align:center;">
        <h1>QUOTATION</h1>
        <div>Quotation No: @quotation.QuotationId</div>
    </div>

    <table style="width: 100%; margin-bottom: 20px; border: 1px solid #FFF">
        <tr>
            <td style="width: 50%; border: 1px solid #FFF">
                FROM 
                
                @quotation.Qdate?.ToString("dd/MM/yyyy")
            </td>
            <td style="width: 50%; border: 1px solid #FFF">
                TO 
                
                @quotation.Valid?.ToString("dd/MM/yyyy")
            </td>
        </tr>
    </table>

    <div class="center">
        <div>Contact: @quotation.CusContact</div>
        <p>
            Chúng tôi chân thành cảm ơn sự quan tâm của Quý công ty đối với dịch vụ của chúng tôi.<br />
            Chúng tôi xin đưa ra bảng giá cước theo yêu cầu của Quý công ty như sau:
        </p>
        <p>
            <strong>
                We sincerely appreciate your company’s interest in our services.<br />
                Please refer to our best rate for your inquiry as below:
            </strong>
        </p>
    </div>

    <table style="width: 100%; margin-bottom: 20px;  border: 1px solid #FFF">
        <tr>
            <td style="width: 50%; vertical-align: top;  border: 1px solid #FFF">
                <strong>Place of receipt:</strong> @quotation.Pol<br />
                <strong>Place of delivery:</strong> @quotation.Pod<br />
                <strong>Commodity:</strong> @quotation.Commodity
            </td>
            <td style="width: 50%; vertical-align: top;  border: 1px solid #FFF">
                <strong>POL:</strong> @quotation.Pol<br />
                <strong>POD:</strong> @quotation.Pod<br />
                <strong>Volume/Term:</strong> @quotation.Vol
            </td>
        </tr>
    </table>

    <div class="center">
        <table>
            <thead>
                <tr>
                    <th>ITEMS</th>
                    <th>CUR.</th>
                    <th>UNIT</th>
                    <th>QUANT</th>
                    <th>PRICE</th>
                    <th>TOTAL</th>
                    <th>NOTE</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in charges)
                {
                    float amount = (float)item.Quantity * (float)(item.Rate ?? 0);
                    totalAmount += amount;
                    <tr>
                        <td>@item.ChargeName</td>
                        <td>@item.Currency</td>
                        <td>@item.Unit</td>
                        <td class="text-right">@item.Quantity</td>
                        <td class="text-right">@item.Rate?.ToString("N2")</td>
                        <td class="text-right">@amount.ToString("N2")</td>
                        <td>@item.Notes</td>
                    </tr>
                }
            </tbody>
            <tfoot>
                <tr>
                    <td colspan="5" class="text-right bold">TOTAL</td>
                    <td class="text-right bold">@totalAmount.ToString("N2")</td>
                    <td></td>
                </tr>
            </tfoot>
        </table>
    </div>

    <div class="center">
        <p><strong>REMARK</strong></p>
        <ul>
            <li>Báo giá chưa bao gồm 8% VAT, riêng cước biển VAT 0%</li>
            <li>Báo giá chưa bao gồm phí thu hộ bên thứ 3: kiểm hóa, soi chiếu, thuế, lưu kho bãi, đường cấm…</li>
            <li>Báo giá không áp dụng cho hàng hóa nguy hiểm, dễ cháy nổ, quá tải, quá khổ… - Tỉ giá TCB bank ngày xuất hóa đơn</li>
        </ul>
        <p><strong>Thanks & Best regards</strong></p>
        <p>We are member of</p>
    </div>

</body>
</html>
